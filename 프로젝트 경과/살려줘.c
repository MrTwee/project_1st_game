#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <time.h>
#include <termios.h>

#define MAX_IMAGES 20
#define MAX_BOARD 6

const char* images[MAX_IMAGES] = {
                "|---------------|\n"
                "|               |\n"
                "|     (\\_/)     |\n"
                "|    (>'.'<)    |\n"
                "|    (\")_(\")    |\n"
                "|               |\n"
                "|---------------|\n"
            ,
                "|---------------|\n"
                "|^__^           |\n"
                "|(oo)\\_______   |\n"
                "|(__)\\       )\\ |\n"
                "|    ||----w |  |\n"
                "|    ||     ||  |\n"
                "|---------------|\n"
            , 
                "|---------------|\n"
                "|               |\n"
                "|     /\\_/\\     |\n"
                "|    ( o.o )    |\n"
                "|     > ^ <     |\n"
                "|               |\n"
                "|---------------|\n"            
            ,            
                "|---------------|\n"
                "|    / \\___     |\n"
                "|   (     @\\___ |\n"
                "|   /         O |\n"
                "|  /    (_____/ |\n"
                "|  /_____/   U  |\n"
                "|---------------|\n"
            ,
                ("|---------------|\n"),
                ("|    ,--./,-.   |\n"),
                ("|   / #      \\  |\n"),
                ("|   |        |  |\n"),
                ("|   \\        /  |\n"),
                ("|    `._,._,'   |\n"),
                ("|---------------|\n"),
            ,
                ("|---------------|\n"),
                ("|   .--\\\"/--.   |\n") 
                ("|  ((+) .  .:)  |\n"),
                ("|  |`.-(o)-.'|  |\n"),
                ("|  \\/  \\_/  \\/  |\n"),
                ("|               |\n"),
                ("|---------------|\n"),
            , 
                ("|---------------|\n");
                ("|     \\~~~/     |\n");
                ("|      \\ /      |\n");
                ("|       V       |\n");
                ("|       |       |\n");
                ("|      ---      |\n");
                ("|---------------|\n");      
            ,            
                ("|---------------|\n");
                ("|      ,-.      |\n");
                ("|    _(*_*)_    |\n");
                ("|   (_  o  _)   |\n");
                ("|     / o \\     |\n");
                ("|    (_/ \\_)    |\n");
                ("|---------------|\n");
            ,
                ("|---------------|\n");
                ("|               |\n");
                ("|   _ \\'-_,#    |\n");
                ("|  _\\'--','`|   |\n");
                ("|  \\`---`  /    |\n");
                ("|   `----'`     |\n");
                ("|---------------|\n");
            ,
                ("|---------------|\n");
                ("|    .'o O'-.   |\n");
                ("|   / O o_.-`|  |\n");
                ("|  /O_.-'  O |  |\n");  
                ("|  | o  o_.-`   |\n");
                ("|  '---`        |\n");
                ("|---------------|\n");

            , 
                ("|---------------|\n");
                ("|      _.-;;-._ |\n");
                ("|'..-'|   ||   ||\n");
                ("|'..-'|_.-;;-._||\n");
                ("|'..-'|   ||   ||\n");
                ("|'..-'|_.-''-._||\n");
                ("|---------------|\n");
     
            ,            
                ("|---------------|\n");
                ("|    /_/\\/\\     |\n");
                ("|    \\_\\  /     |\n");
                ("|    /_/  \\     |\n");
                ("|    \\_\\/\\ \\    |\n");
                ("|       \\_\\/    |\n");
                ("|---------------|\n");

            ,
                ("ã…£-------------- |\n");   
                ("ã…£  > `-,,,-' <  |\n");   
                ("ã…£`-.         .- |\n");     
                ("ã…£  / 'e___e` \\  |\n");      
                ("ã…£ (   (o o)   ) |\n");      
                ("ã…£ _\\_  `='  _/_ |\n");  
                ("ã…£---------------|\n"); 
            ,
                ("ã…£---------------|\n");
                ("ã…£   ï¼ï¿£ï¼¼ã€€    |\n");
                ("ã…£ /ã€€*Â´Ï‰ï½€)ã¤ã€€ |\n");
                ("ã…£ã€€|ã€€ã¤ã€€ï¼    |\n");
                ("ã…£ã€€ï¼¼ã€€ã€€ ï¼¼ï¼¿  |\n");
                ("ã…£ã€€ã€€ã€€ï¿£ï¿£ï¼¼ï¼ |\n");
                ("ã…£---------------|\n");
            , 
                ("ã…£-------------- |\n");
                ("ã…£ï½’âŒ’ï¼¼,,,ï¼âŒ’ãƒŸ  |\n"); 
                ("ã…£ã‚žã€€ã€€ã€€ã€€ãƒ¾ã€€/|\n"); 
                ("ã…£ï¼ˆã€€ï¿£ â–²ï¿£)/// |\n"); 
                ("ã…£ ãƒŽ   ã€€  ///  |\n");
                ("ã…£ï¼ˆã€€âˆªã€€ã€€ã¤//  |\n");
                ("ã…£-------------- | \n");       
            ,            
                ("ã…£---------------|\n");
                ("ã…£       â—â—œ      |\n");
                ("ã…£ â•±â—¥â—£    â—â—œ     |\n");
                ("ã…£ â”‚âˆ© â”‚â—¥â–ˆâ–ˆâ–ˆâ—£ â•±â—¥  |\n");
                ("ã…£ â•±â—¥â—£ â—¥â–ˆâ–ˆâ–ˆâ–ˆâ—£â–“   |\n");
                ("ã…£ â”‚â•±â—¥â–ˆâ—£â•‘âˆ©âˆ©âˆ© â•‘â—¥  |\n");
                ("ã…£---------------|\n");  
            ,
                ("ã…£---------------|  \n");
                ("ã…£  â”»â”³â”»â”³|        |\n");
                ("ã…£  â”³â”»â”³â”»|__âˆ§     |\n");
                ("ã…£  â”»â”³â”»â”³|â€¢ï¹ƒ â€¢)  |\n");
                ("ã…£  â”³â”»â”³â”»|âŠ‚ ï¾‰     |\n");
                ("ã…£  â”»â”³â”»â”³|ï¼ª      |\n");
                ("ã…£---------------|  \n");
            ,
                ("ã…£--------------ã…£\n");
                ("ã…£ *  _____    *ã…£\n");
                ("ã…£ __//_||_\\__  ã…£\n");
                ("ã…£/â—Ž________â—Ž \\ ã…£\n");
                ("ã…£ *    *    *  ã…£\n");
                ("ã…£    *   *     ã…£\n");
                ("ã…£--------------ã…£\n");
            , 
                ("ã…£--------------ã…£\n");
                ("ã…£      /\\      ã…£\n");
                ("ã…£     /â˜… \\     ã…£\n");
                ("ã…£    / \\/\\*    ã…£\n");
                ("ã…£   /â˜… \\*\\/\\   ã…£\n");
                ("ã…£  /________\\â € ã…£\n");
                ("ã…£--------------ã…£\n");
   
            ,            
                ("|---------------|\n"),
          			("ã…£    ðŸ’§    ðŸ’§  | \n"),
          			("ã…£ ðŸ’§     ðŸ’§    |\n"),
          			("ã…£    â•­ â€ â€ â•®   |\n"),
          			("ã…£ã€€ ( 'ðŸ‘…'  )  |\n"),
          			("ã…£    â•° â€¿ â€¿ â•¯   | \n"),
          			("|---------------|\n")     
};

int display_menu() {
    int menu;

    system("clear");
    
    printf("ê°™ì€ ê·¸ë¦¼ ì°¾ê¸° ê²Œìž„\n");
    printf("===================\n");
    printf("     ê²Œìž„ ë©”ë‰´\n");
    printf("===================\n");
    printf("1. ê²Œìž„ ì‹œìž‘\n");
    printf("2. ì‚¬ì§„ ì²´í¬\n");
    printf("3. í¬ë ˆë”§\n");
    printf("4. ê²Œìž„ ì¢…ë£Œ\n");

    scanf("%d", &menu);
    return menu;
}

void display_credits() {
    printf("\033[2J\033[H"); // í™”ë©´ ì§€ìš°ê¸°

    printf("==\tìœ¤í˜„ì¤‘\t\t==\n\n");
    sleep(1);

    printf("==\tí™ì†”ì•„\t\t==\n\n");
    sleep(1);

    printf("==\tì´ì§„ìš°\t\t==\n\n");
    sleep(1);

    printf("==\tì†¡í•´ë“ \t\t==\n\n");
    sleep(3);
}

void display_images() {
    printf("\033[2J\033[H"); // í™”ë©´ ì§€ìš°ê¸° í´ë¦¬ì–´ í•¨ìˆ˜ì™€ ê°™ìŒ

    for (int i = 0; i < MAX_IMAGES; ++i) {
        printf("%s\n", images[i]); // ì´ë¯¸ì§€ ì¶œë ¥
    }
    sleep(10); // ì´ë¯¸ì§€ë¥¼ ìž ì‹œ í‘œì‹œí•œ í›„ ë©”ì¸ ë©”ë‰´ë¡œ ë³µê·€
}

void shuffleCards(int *array, int size) {
    for (int i = 0; i < size; i++) {
        int j = rand() % size;
        int temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
}

void initializeBoard(int boardSize) {
    int board[MAX_BOARD][MAX_BOARD] = {0};
    int cardIndexes[MAX_IMAGES]; // ì´ ë°°ì—´ì€ ì‚¬ìš© ê°€ëŠ¥í•œ ì¹´ë“œ ì¸ë±ìŠ¤ë¥¼ ì €ìž¥

    // ê° ì¹´ë“œ ì¸ë±ìŠ¤ë¥¼ ì´ˆê¸°í™”
    for (int i = 0; i < MAX_IMAGES; i++) {
        cardIndexes[i] = i;
    }

    // ì¹´ë“œ ì¸ë±ìŠ¤ë¥¼ ì…”í”Œ
    shuffleCards(cardIndexes, MAX_IMAGES);

    // ë³´ë“œì— ì¹´ë“œ ë°°ì¹˜
    int cardCount = 0;
    for (int i = 0; i < boardSize; i++) {
        for (int j = 0; j < boardSize; j += 2) {
            // ê°™ì€ ì¹´ë“œë¥¼ 2ê°œì”© ë°°ì¹˜
            board[i][j] = board[i][j + 1] = cardIndexes[cardCount++];
            if (cardCount >= boardSize * boardSize / 2) {
                // í•„ìš”í•œ ì¹´ë“œ ìˆ˜ì— ë„ë‹¬í•˜ë©´ ì¤‘ë‹¨
                break;
            }
        }
        if (cardCount >= boardSize * boardSize / 2) {
            break;
        }
    }

    // ì¹´ë“œ ì¶œë ¥
    for (int i = 0; i < boardSize; i++) {
        for (int j = 0; j < boardSize; j++) {
            printf("%s ", images[board[i][j]]);
        }
        printf("\n");
    }
}

void play_game() {
    printf("\033[2J\033[H"); // í™”ë©´ ì§€ìš°ê¸°
    printf("ê²Œìž„ ì‹œìž‘!\n");


    int boardSize = 6;
    initializeBoard(boardSize);

    sleep(3);
    // ì¶”ê°€ì ì¸ ê²Œìž„ ë¡œì§ êµ¬í˜„ì´ í•„ìš”í•©ë‹ˆë‹¤.
    // ì˜ˆ: ì‚¬ìš©ìž ìž…ë ¥ì„ ë°›ì•„ ì¹´ë“œë¥¼ ì„ íƒí•˜ê³ , ë§¤ì¹­ì´ ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ ë“±
}


int main() {
    int choice;
    srand(time(NULL)); // ëžœë¤ ì‹œë“œ ì´ˆê¸°í™”

    while (1) {
        choice = display_menu();

        switch(choice) {
            case 1:
                play_game();
                break;
            case 2:
                display_images();
                break;
            case 3:
                display_credits();
                // í¬ë ˆë”§ ë³´ì—¬ì£¼ê³  ë©”ë‰´ë¡œ ëŒì•„ê°€ì•¼ í•˜ë¯€ë¡œ, ì—¬ê¸°ì— display_menu()ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠìŒ.
                break;
            case 4:
                printf("\033[2J\033[H");
                printf("ê²Œìž„ì„ ì¢…ë£Œí•©ë‹ˆë‹¤.\n");
                exit(0); // í”„ë¡œê·¸ëž¨ ì¢…ë£Œ
            default:
                printf("ìž˜ëª»ëœ ì„ íƒìž…ë‹ˆë‹¤.\n");
                sleep(1); // ìž ì‹œ ëŒ€ê¸° í›„ ë‹¤ì‹œ ë©”ë‰´ë¥¼ ë³´ì—¬ì¤Œ
        }
    }

    return 0; // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì— ë„ë‹¬í•˜ì§€ ì•ŠìŒ
}
